id: za-flight-schools
name: South Africa Flight Schools
description: Canonical profile for ACES Aerodynamics enrichment of South African flight schools.
dataset:
  expected_columns:
    - Name of Organisation
    - Province
    - Status
    - Website URL
    - Contact Person
    - Contact Number
    - Contact Email Address
  columns:
    - name: Name of Organisation
      type: text
      synonyms:
        - Organisation Name
      alternate_labels:
        - Org Name
        - Flight School Name
        - Company Name
      format_hints:
        case: title
        collapse_whitespace: true
    - name: Province
      type: enum
      synonyms:
        - Region
      alternate_labels:
        - Province/Region
        - Province Name
      allowed_values:
        - Eastern Cape
        - Free State
        - Gauteng
        - KwaZulu-Natal
        - Limpopo
        - Mpumalanga
        - Northern Cape
        - North West
        - Western Cape
      detection_hooks:
        - allowed_values
      format_hints:
        default: Unknown
    - name: Status
      type: enum
      synonyms:
        - Verification Status
      alternate_labels:
        - Review Status
      allowed_values:
        - Verified
        - Candidate
        - Needs Review
        - Duplicate
        - Do Not Contact (Compliance)
      detection_hooks:
        - allowed_values
      format_hints:
        default: Needs Review
    - name: Website URL
      type: url
      synonyms:
        - Website
        - URL
      alternate_labels:
        - Company Website
        - Site URL
      detection_hooks:
        - url_pattern
      format_hints:
        ensure_https: true
        strip_query: true
        strip_fragment: true
        strip_trailing_slash: true
    - name: Contact Person
      type: text
      synonyms:
        - Primary Contact
      alternate_labels:
        - Contact Name
        - Lead Contact
      format_hints:
        case: title
        collapse_whitespace: true
    - name: Contact Number
      type: phone
      required: true
      synonyms:
        - Contact Phone
        - Phone Number
      alternate_labels:
        - Telephone
        - Tel
      detection_hooks:
        - phone_pattern
    - name: Contact Email Address
      type: email
      synonyms:
        - Contact Email
      alternate_labels:
        - Email Address
        - Primary Email
      detection_hooks:
        - email_pattern
      format_hints:
        case: lower
    - name: Fleet Size
      type: numeric_with_units
      synonyms:
        - Aircraft Count
      alternate_labels:
        - Number of Aircraft
        - Fleet Count
      detection_hooks:
        - numeric_values
    - name: Runway Length
      type: numeric_with_units
      synonyms:
        - Runway Length Feet
      alternate_labels:
        - Runway Length (ft)
        - Runway Length Feet (Imperial)
      detection_hooks:
        - numeric_values
    - name: Runway Length (m)
      type: numeric_with_units
      synonyms:
        - Runway Length Metres
      alternate_labels:
        - Runway Length Meters
        - Runway Length (Metric)
      detection_hooks:
        - numeric_values
  numeric_units:
    - column: Fleet Size
      canonical_unit: count
      cast: int
      allowed_units: [count, plane, planes, aircraft]
    - column: Runway Length
      canonical_unit: meter
      cast: float
      allowed_units: [meter, metre, m, foot, feet, ft]
    - column: Runway Length (m)
      canonical_unit: meter
      cast: float
      allowed_units: [meter, metre, m]
geography:
  provinces:
    - Eastern Cape
    - Free State
    - Gauteng
    - KwaZulu-Natal
    - Limpopo
    - Mpumalanga
    - Northern Cape
    - North West
    - Western Cape
statuses:
  allowed:
    - Verified
    - Candidate
    - Needs Review
    - Duplicate
    - Do Not Contact (Compliance)
  default: Needs Review
compliance:
  default_confidence:
    Verified: 95
    Candidate: 70
    Needs Review: 40
    Duplicate: 0
    Do Not Contact (Compliance): 0
  min_evidence_sources: 2
  official_source_keywords:
    - .gov.za
    - caa.co.za
    - .ac.za
    - .org.za
    - .mil.za
  evidence_queries:
    - "{name} {province} Civil Aviation Authority"
    - "{name} training accreditation"
    - "{name} SACAA site:.za"
  lawful_basis:
    legitimate_interest: "Legitimate interest in supporting accredited aviation training"
    consent: "Documented consent from the contact or organisation"
  default_lawful_basis: legitimate_interest
  contact_purposes:
    transparency_notice: "Send POPIA transparency notice after enrichment"
    outreach: "Initial outreach regarding ACES Aerodynamics flight training services"
  default_contact_purpose: transparency_notice
  opt_out_statuses:
    - Do Not Contact (Compliance)
  revalidation_days: 120
  notification_templates:
    transparency_notice: templates/transparency_notice.md
  audit_exports:
    - csv
    - jsonl
contact:
  phone:
    country_code: "+27"
    e164_regex: "^\\+27\\d{9}$"
    national_prefixes: [0, 27]
    national_number_length: 9
  email:
    regex: "^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$"
    role_prefixes: [info, sales, contact, enquiries, admin, support]
    require_domain_match: true
research:
  queries:
    - "{name} {province} civil aviation"
    - "{name} flight school"
    - "{name} aviation South Africa"
  concurrency_limit: 4
  cache_ttl_hours: 12
  max_retries: 3
  retry_backoff_base_seconds: 0.3
  circuit_breaker:
    failure_threshold: 5
    reset_seconds: 45
  allow_personal_data: false
  rate_limit_seconds: 0.3
  connectors:
    regulator:
      enabled: true
      rate_limit_seconds: 0.25
    press:
      enabled: true
      rate_limit_seconds: 0.5
    corporate_filings:
      enabled: true
      rate_limit_seconds: 0.5
      allow_personal_data: false
    social:
      enabled: true
      rate_limit_seconds: 0.75
      allow_personal_data: false
